Задание 1
Создание кластера
Перейдите на главную страницу сервиса Managed Service for PostgreSQL.
Создайте кластер PostgreSQL со следующими параметрами:
класс хоста: s2.micro, диск network-ssd любого размера;
хосты: нужно создать два хоста в двух разных зонах доступности и указать необходимость публичного доступа, то есть публичного IP адреса, для них;
установите учётную запись для пользователя и базы.
Остальные параметры оставьте по умолчанию либо измените по своему усмотрению.

Нажмите кнопку «Создать кластер» и дождитесь окончания процесса создания, статус кластера = RUNNING. Кластер создаётся от 5 до 10 минут.
Подключение к мастеру и реплике
Используйте инструкцию по подключению к кластеру, доступную на вкладке «Обзор»: cкачайте SSL-сертификат и подключитесь к кластеру с помощью утилиты psql, указав hostname всех узлов и атрибут target_session_attrs=read-write.

Проверьте, что подключение прошло к master-узлу.

select case when pg_is_in_recovery() then 'REPLICA' else 'MASTER' end;
Посмотрите количество подключенных реплик:
select count(*) from pg_stat_replication;
Проверьте работоспособность репликации в кластере
Создайте таблицу и вставьте одну-две строки.
CREATE TABLE test_table(text varchar);
insert into test_table values('Строка 1');
Выйдите из psql командой \q.

Теперь подключитесь к узлу-реплике. Для этого из команды подключения удалите атрибут target_session_attrs и в параметре атрибут host передайте только имя хоста-реплики. Роли хостов можно посмотреть на соответствующей вкладке UI консоли.

Проверьте, что подключение прошло к узлу-реплике.

select case when pg_is_in_recovery() then 'REPLICA' else 'MASTER' end;
Проверьте состояние репликации
select status from pg_stat_wal_receiver;
Для проверки, что механизм репликации данных работает между зонами доступности облака, выполните запрос к таблице, созданной на предыдущем шаге:
select * from test_table;
В качестве результата вашей работы пришлите скриншоты:

1) Созданной базы данных; 2) Результата вывода команды на реплике select * from test_table;.


Решение:
Подключено к мастер-узлу
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/e22eb560-9b38-4284-bc2d-64e975d6d1cf)

Проверка количества реплик
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/b9565282-e2ce-40f7-857d-c72c405203b7)

Подключение к реплике
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/10d688e7-e103-43e3-bee9-2c0c01d8b960)

Проверка статуса репликации
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/a418c78b-b0d6-466d-88cd-cb9063d93e48)

Запрос к ранее созданной таблице
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/d2d2c108-e8a5-403d-996a-c2711a558888)

Скриншот созданной базы данных
![image](https://github.com/Franky12111990/sdb-homeworks/assets/121640886/20816fce-2e6c-441e-b210-a8d67d5169cc)






